{% extends "base.html" %}
{% block title %}Formulário de Produto{% endblock %}

{% block content %}

<h1 class="text-center">
    {% if form.instance.pk %}
      Editar Produto
    {% else %}
      Criar Produto
    {% endif %}
</h1>

<div class="d-flex justify-content-between align-items-center mb-3">    
    <h3 class="mb-0">Formulário</h3>
    <div class="d-flex align-items-center gap-2">
        <a href="{% url 'category_create' %}" class="btn btn-primary btn-sm">Adicionar Categoria</a>
        <a href="{% url 'supplier_create' %}" class="btn btn-primary btn-sm">Adicionar Fornecedor</a>

        <!-- CARD PARA EDITAR CATEGORIAS -->
        <div class="card p-3 mb-3">
            <h6 class="mb-2">Editar Categorias</h6>
        
            <!--FORMULÁRIO DE SELEÇÃO DE CATEGORIA PARA EDITAR -->
            <form method="get" action="{% url 'category_select' %}" class="d-inline">
                <select name="category_id" class="form-select form-select-sm d-inline w-auto">
                    <option value="">Selecione uma categoria</option>

                    {% for categoria in form.fields.category.queryset %}
                        <option value="{{ categoria.id }}">
                            {{ categoria.name }}
                        </option>
                    {% endfor %}
                </select>

                <button type="submit" class="btn btn-secondary btn-sm">
                    Editar
                </button>
            </form>
        </div>

    </div>

</div>




<form method="post" novalidate>
    {% csrf_token %}
    {{ form.as_p}}
    <button type="submit" class="btn btn-primary">Salvar</button>
    <a href="{% url 'product_list' %}" class="btn btn-secondary">Cancelar</a>
</form>

{% endblock %}