<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>
      {% block title %}
        Loja de Produtos
      {% endblock %}
    </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  </head>
  <body class="d-flex flex-column min-vh-100">
    <!-- Acrescentei toda essa classe para o footer ficar "grudado" no chão -->
    <nav class="navbar navbar-dark bg-dark mb-4">
      <div class="container-fluid">
        <a href="{% url 'product_list' %}" class="navbar-brand">Loja de Produtos</a>
        <div class="d-flex">
          {% if user.is_authenticated %}
            <span class="navbar-text text-white me-3">Olá, {{ user.username }}</span>
            <a href="{% url 'user_logout' %}" class="btn btn-outline-light">Sair</a>
          {% else %}
            <a href="{% url 'user_login' %}" class="btn btn-outline-light">Entrar</a>
          {% endif %}
        </div>
      </div>
    </nav>

    <main class="container flex-fill">
      <!-- Acrescentei "flex-fill" para a main ocupar todo o espaço vazio. E assim para o footer ficar "grudado" no chão -->
      {% block content %}

      {% endblock %}
    </main>
    <!-- Código do Rodapé -->
    <footer class="main-footer bg-dark mt-5 pt-4">
      <!-- footer-dark -->
      <div class="container-fluid text-center">
        <div class="col">
          <div class="row">
            <h5><a href="{% url 'product_list' %}" class="text-white">Home</a></h5>
            <address class="text-white">
              <a href="https://wa.me/5516981985883" class="text-white">+55 16 9819-5883</a> | <a href="mailto:catarina.aguiar3@usp.br" class="text-white">catarina.aguiar3@usp.br</a>
            </address>
          </div>
        </div>
      </div>
      <div class="bg-black pb-2 pt-2">
        <div class="container-fluid text-center">
          <!-- Colocando Ano Corrente usando Django Template Language (DTL) -->
          <span class="text text-white">© 2025 - {% now 'Y' %} Loja de Produtos</span> <br />

          <!-- Colocando Ano Corrente usando Context Processor -->
          <span class="text text-white">© 2025 - {{ ano_corrente }} Loja de Produtos</span>
        </div>

        <!-- Linha Divisória -->
        <div style="height: 1px; background-color: white; opacity: 0.2; width: 20%; margin: 15px auto;"></div>

        <div class="container-fluid text-center">
          <span class="text text-white">{% now 'd/m/Y H:i' %}</span> <br />
          <span class="text text-white">{{ data_corrente }}</span> <br />
        </div>
      </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
